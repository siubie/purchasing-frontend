<!-- <span ng-init="load()"></span> -->
<h3>Master Kategori Barang</h3>
<br/>
<button class="btn btn-default" type="button" ng-click="openCreate()">Tambah</button>
<br/>
<br/>
<h4 ng-show="!kategoriBarangs.length">Data Permintaan Barang Kosong</h4>
<div ng-show="!!kategoriBarangs.length">
	<table class="table-condensed">
		<tr>
			<td>Filter di Semua</td>
			<td><input name="query" ng-model="search.$"/></td>
		</tr>
	</table>
	<br/>
	<!-- <div ng-repeat="kategoriBarang in kategoriBarangs">{{$index}} : {{kategoriBarang | json}}</div> -->
	<table class="table-striped table-bordered table-hover table-condensed" ng-init="currentPage=1">
		<tr>
			<th rowspan="2"><input type="checkbox" ng-model="selectedAll" ng-init="selectedAll=false" ng-change="checkAll()"></th>
			<th><a href="" ng-click="sort='kode';reverse=!reverse">Kode</a></th>
			<th><a href="" ng-click="sort='kategori';reverse=!reverse">Kategori</a></th>
			<th rowspan="2">Pilihan</th>
		</tr>
		<tr>
			<td><input type="text" ng-model="search.kode" ng-change="search.code=='5' ? search.kategori='10' : null"/></td>
			<td><input type="text" ng-model="search.kategori"/></td>
		</tr>
		<tr ng-repeat="kategoriBarang in filtered = (kategoriBarangs | filter:search) | orderBy:sort:reverse | startFrom:(currentPage-1)*itemsPerPage | limitTo:itemsPerPage ">
			<td><input type="checkbox" ng-model="kategoriBarang.selected" ng-change="uncheckAll(kategoriBarang.selected)"></td>
			<td ng-bind="::kategoriBarang.kode"></td>
			<td ng-bind="::kategoriBarang.kategori"></td>
			<td>
				<button class="btn btn-default" type="button" ng-click="openRead(kategoriBarang)">Detail</button>
				<button class="btn btn-default" type="button" ng-click="openUpdate(kategoriBarang)">Edit</button>
				<button class="btn btn-default" type="button" ng-click="delete(kategoriBarang)">Hapus</button>
			</td>
		</tr>
		<tbody>
	</table>
	<table class="table-condensed">
		<tr>
			<td>
				<div class="btn-group" dropdown>
					<button class="btn btn-default" type="button" class="dropdown-toggle" dropdown-toggle ng-disabled="!selected.length">
						Pilihan <span class="caret"></span>
					</button>
					<ul class="dropdown-menu" role="menu">
						<li><a href="#" ng-click="deleteSelected()">Hapus</a></li>
					</ul>
				</div>
			</td>
			<td colspan="2">
				<pagination
					class="pagination-sm"
					total-items="filtered.length"
					ng-model="currentPage"
					items-per-page="itemsPerPage"
					max-size="5"
					num-pages="numPages"
					boundary-links="true"
				>
				</pagination>
			</td>
		</tr>
		<tr>
			<td>Halaman : <span ng-bind="currentPage"></span>/<span ng-bind="numPages"></span></td>
			<td>Item Per Halaman :
				<select ng-model="itemsPerPage" ng-init="itemsPerPage=5" ng-change="currentPage=1">
					<option value="5">10</option>
					<option value="10">10</option>
					<option value="25">25</option>
					<option value="50">50</option>
					<option value="100">100</option>
				</select>
			</td>
		</tr>
	</table>
</div>
